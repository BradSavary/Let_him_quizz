
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/index.css" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script>
      gsap.registerPlugin();
    </script>


    <title>Document</title>
  </head>
  <body>


    <div id="LoadingPage"></div>
    

    <a-scene cursor="rayOrigin: mouse" id="mainScene" physics="debug:false;">
      <!-- camera -->
      <a-entity
        camera=""
        look-controls=""
        position="1.237 3 -35.03326"
        rotation="7.678 4.469 0"
        data-aframe-inspector-original-camera=""
        wasd-controls=""
      ></a-entity>

      <!-- test sky -->
      <!-- <a-sky position="1.237 3 -35.03326" id="image-360" radius="3" src="./src/assets/360locations/buckingham.png"></a-sky> -->

      <!-- ambient light --> 
      <a-light
        class="ambient"
        type="ambient"
        color="#ffffff"
        intensity="0.3"
        position="5.82373 119.06988 -24.14106"
      ></a-light>

      <a-light
      class="light spot"
        type="point"
        color="#ffffff"
        intensity="1"
        position="5.82373 119.06988 -24.14106"
      ></a-light>
      <a-light
      class="light spot"
        type="point"
        color="#ffffff"
        intensity="0.5"
        position="5.82373 16.31798 42.8702"
      ></a-light>

      
      <!-- tv -->
      <a-entity
        gltf-model="./src/assets/modele3d/tv.glb"
        position="5.94 4.28 -25"
        scale="40 40 40"
        rotation="0
         269.09000000000003 0
         "
      ></a-entity>

      <!-- beer -->
      <a-entity
        gltf-model="./src/assets/modele3d/beer.glb"
        position="-22.0848 -5.36063 12.97207"
        scale="0.5 0.5 0.5"
        rotation="0 269.09000000000003 0"
      ></a-entity>

      <!-- room -->
      <a-entity
        gltf-model="./src/assets/modele3d/room.glb"
        position="5.94 -22.45 -25"
        scale="25 25 25"
        rotation="0 269.09000000000003 0"
      ></a-entity>
      
      <!-- table -->
      <a-entity
        gltf-model="./src/assets/modele3d/table.glb"
        position="1.21 -14.6 -29.76"
        scale="30 30 40"
        rotation=""
        material="metalness: 0; roughness: 1; shader: standard"
      ></a-entity>

      <!-- sofa -->
      <a-entity
        gltf-model="./src/assets/modele3d/sofa.glb"
        position="24.39 -23.35 5"
        scale="50 50 50"
        rotation=""
      ></a-entity>

      <!-- stage -->
      <a-entity
        gltf-model="./src/assets/modele3d/stage.glb"
        position="1.23833 -1.63184 -37.98841"
        scale="0.67 0.69 0.44"
        rotation=""
      ></a-entity>

      <!-- anchor -->
      <a-entity
        gltf-model="./src/assets/modele3d/man.glb"
        position="8.8 0.2031 -39.14591"
        scale="0.75 0.75 0.75"
        rotation="-0.4 -40 2.4"
        gltf-model="#monster"
        animation-mixer="clip: Man Run;"
      ></a-entity>

      <!-- money drop table -->
      <a-entity
        gltf-model="./src/assets/modele3d/moneydroptable.glb"
        position="8.8 0.2031 -39.14591"
        scale="0.75 0.75 0.75"
        rotation="0 90 0"
      ></a-entity>  <!-- FPS counter -->
      <a-entity id="fps-counter" position="0 2 -3" text="value: 0 FPS; color: #FFF; width: 4;"></a-entity>
      <script>
        const fpsCounter = document.querySelector('#fps-counter');
        let lastFrameTime = performance.now();
        let frameCount = 0;

        function updateFPS() {
          const now = performance.now();
          frameCount++;
          if (now >= lastFrameTime + 1000) {
            const fps = frameCount;
            fpsCounter.setAttribute('text', 'value', `${fps} FPS`);
            frameCount = 0;
            lastFrameTime = now;
          }
          requestAnimationFrame(updateFPS);
        }

        updateFPS();
      </script>
      <a-sky color="#808080"></a-sky>
      <!-- cylinder for money -->
      <!-- it has 4 hit boxes on the sides and one on the floor -->
      <a-cylinder
        position="-4.525 2.600 -40.62386"
        radius="0.7"
        height="1.5"
        color="#0000FF"
        scale="2.2 3 2.2"
        material="opacity: 0.5; color: #d1d1ff"
        body="type: static; shape: none;"
        
        shape__side1="shape: box; halfExtents: 0.5 1.5 0.05; offset: 0 0 0.5;"
        shape__side2="shape: box; halfExtents: 0.5 1.5 0.05; offset: 0 0 -0.5;"
        shape__side3="shape: box; halfExtents: 0.05 1.5 0.5; offset: 0.5 0 0;"
        shape__side4="shape: box; halfExtents: 0.05 1.5 0.5; offset: -0.5 0 0;"
        shape__bottom="shape: cylinder; height: 0.05; radiusTop: 0.5; radiusBottom: 0.5; offset: 0 -0.75 0;"
      ></a-cylinder>


      <!-- screen -->
      <a-box
        position="0.99 3.22 -41.45168"
        rotation=""
        width="1"
        height="1"
        depth="1"
        color="#2A8BA6"
        scale="8 5 1"
        id="ecran"
      ></a-box>

      <!-- stage light -->
      <a-entity
        gltf-model="./src/assets/modele3d/spot.glb"
        position="8.84924 7.47002 -33.78025"
        scale="0.75 0.75 0.75"
        rotation="-0.4 180 2.4"
      ></a-entity>

      <a-light
        class="light spot"
        type="point"
        color="#b3b3ff"
        intensity="1"
        position="0.94658 6.536 -35.71878"
      ></a-light>

      <!-- stage floor -->
      <a-plane
        position="1.28077 -1.43517 -32.99556"
        rotation="-90 0 0"
        width="100"
        height="100"
        color="#000000"
        scale="0.23 0.2 1"
        material="metalness: 0; roughness: 1; shader: standard"
      ></a-plane>
    </a-scene>
    
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
